{"version":3,"sources":["../../src/controller/OrderController.js"],"names":["Order","OrderList","OrderListView","Message","MessageView","DateHelper","OrderController","$","document","querySelector","bind","_controlsDate","_controlsAmount","_controlsPrice","_orderList","_orderListView","update","_message","_messageView","event","preventDefault","order","_createOrder","add","text","_clearForm","date","dateFromText","value","amount","parseInt","price","parseFloat","focus"],"mappings":";;;;;;;;;;;;;;;AAAQA,iB,eAAAA,K;;AACAC,qB,mBAAAA,S;;AACAC,yB,wBAAAA,a;;AACAC,mB,iBAAAA,O;;AACAC,uB,oBAAAA,W;;AACAC,sB,qBAAAA,U;;;;;;;;;;;;;;;;;;;;;uCAEKC,e;AAET,2CAAc;AAAA;;AAEV,wBAAIC,IAAIC,SAASC,aAAT,CAAuBC,IAAvB,CAA4BF,QAA5B,CAAR;;AAEA,yBAAKG,aAAL,GAAqBJ,EAAE,aAAF,CAArB;AACA,yBAAKK,eAAL,GAAuBL,EAAE,eAAF,CAAvB;AACA,yBAAKM,cAAL,GAAsBN,EAAE,cAAF,CAAtB;;AAEA,yBAAKO,UAAL,GAAkB,IAAIb,SAAJ,EAAlB;AACA,yBAAKc,cAAL,GAAsB,IAAIb,aAAJ,CAAkBK,EAAE,gBAAF,CAAlB,CAAtB;AACA,yBAAKQ,cAAL,CAAoBC,MAApB,CAA2B,KAAKF,UAAhC;;AAEA,yBAAKG,QAAL,GAAgB,IAAId,OAAJ,EAAhB;AACA,yBAAKe,YAAL,GAAoB,IAAId,WAAJ,CAAgBG,EAAE,cAAF,CAAhB,CAApB;AACA,yBAAKW,YAAL,CAAkBF,MAAlB,CAAyB,KAAKC,QAA9B;AACH;;;;wCAEGE,K,EAAO;;AAEPA,8BAAMC,cAAN;AACA,4BAAIC,QAAQ,KAAKC,YAAL,EAAZ;;AAEA,6BAAKR,UAAL,CAAgBS,GAAhB,CAAoBF,KAApB;AACA,6BAAKN,cAAL,CAAoBC,MAApB,CAA2B,KAAKF,UAAhC;AACA,6BAAKG,QAAL,CAAcO,IAAd,GAAqB,cAArB;AACA,6BAAKN,YAAL,CAAkBF,MAAlB,CAAyB,KAAKC,QAA9B;AACA,6BAAKQ,UAAL;AACH;;;mDAEc;;AAEX,4BAAIC,OAAOrB,WAAWsB,YAAX,CAAwB,KAAKhB,aAAL,CAAmBiB,KAA3C,CAAX;AACA,4BAAIC,SAASC,SAAS,KAAKlB,eAAL,CAAqBgB,KAA9B,CAAb;AACA,4BAAIG,QAAQC,WAAW,KAAKnB,cAAL,CAAoBe,KAA/B,CAAZ;;AAEA,+BAAO,IAAI5B,KAAJ,CAAU0B,IAAV,EAAgBG,MAAhB,EAAwBE,KAAxB,CAAP;AACH;;;iDAEY;;AAET,6BAAKpB,aAAL,CAAmBiB,KAAnB,GAA2B,EAA3B;AACA,6BAAKhB,eAAL,CAAqBgB,KAArB,GAA6B,CAA7B;AACA,6BAAKf,cAAL,CAAoBe,KAApB,GAA4B,CAA5B;;AAEA,6BAAKjB,aAAL,CAAmBsB,KAAnB;AACH","file":"OrderController.js","sourcesContent":["import {Order} from '../model/Order';\nimport {OrderList} from '../model/OrderList';\nimport {OrderListView} from '../view/OrderListView.js';\nimport {Message} from '../model/Message';\nimport {MessageView} from '../view/MessageView';\nimport {DateHelper} from '../helper/DateHelper';\n\nexport class OrderController {\n\n    constructor() {\n\n        let $ = document.querySelector.bind(document);\n\n        this._controlsDate = $('#order-date');\n        this._controlsAmount = $('#order-amount');\n        this._controlsPrice = $('#order-price');\n\n        this._orderList = new OrderList();\n        this._orderListView = new OrderListView($('#orderListView'));\n        this._orderListView.update(this._orderList);\n\n        this._message = new Message();\n        this._messageView = new MessageView($('#messageView'));\n        this._messageView.update(this._message);\n    }\n\n    add(event) {\n        \n        event.preventDefault();\n        let order = this._createOrder();\n\n        this._orderList.add(order);\n        this._orderListView.update(this._orderList);\n        this._message.text = 'Order added.';\n        this._messageView.update(this._message);\n        this._clearForm();\n    }\n\n    _createOrder() {\n\n        let date = DateHelper.dateFromText(this._controlsDate.value);\n        let amount = parseInt(this._controlsAmount.value);\n        let price = parseFloat(this._controlsPrice.value)\n        \n        return new Order(date, amount, price);\n    }\n\n    _clearForm() {\n\n        this._controlsDate.value = '';\n        this._controlsAmount.value = 1;\n        this._controlsPrice.value = 0;\n\n        this._controlsDate.focus();\n    }\n}"]}